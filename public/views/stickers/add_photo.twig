{% extends '@layout/layout.twig' %}

{% block content %}
<div class="modal is-static">
	<div class="modal-card">
		<header class="modal-card-head">
			<p class="modal-card-title">{{ __('Upload photo for sticker') }}</p>
		</header>
		<section class="modal-card-body">
			{{ form_start(form, {'id': 'sticker-photo-form', 'action': path('stickers', {view: 'add_photo', id: iter.id, referrer: controller.get_referrer()}) }) }}
				{# Global errors #}
				{{ form_errors(form) }}

				{# Fields #}
				<div class="field">
					<div class="control">
						{{ form_widget(form.photo, {'cta': __('Select photoâ€¦'), 'attr': {'class': 'has-name is-fullwidth'}}) }}
					</div>
					{{ form_errors(form.photo) }}
					{{ form_help(form.photo) }}
				</div>

				{# Cache submit button #}
				{% set submit_button = form_widget(form.submit, {'label': __('Upload photo'), 'attr': {'form': 'sticker-photo-form', 'class': 'is-danger'}}) %}
			{{ form_end(form) }}
		</section>
		<footer class="modal-card-foot">
			<a href="{{ controller.get_referrer() ?? path('stickers') }}" class="button" data-dismiss="modal">{{ __('Return to map') }}</a>
			{{ submit_button|raw }}
		</footer>
	</div>
</div>
{% endblock %}
