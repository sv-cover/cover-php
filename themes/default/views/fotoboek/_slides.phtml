<?php
	$prev = $book->get_previous_photo($iter, 2);
	$next = $book->get_next_photo($iter, 2);

	while (count($prev) < 2)
		array_push($prev, '');

	while (count($next) < 2)
		array_push($next, '');

	$slides = array_merge(
		array_values(array_reverse($prev)),
		array($iter),
		array_values($next));
?>
<ol class="slides">
<?php foreach ($slides as $i => $slide): ?>
	<?php if ($slide): ?>
	<li class="slide <?=image_aspect($slide->get_size())?> <?=$i == 2 ? 'current' : ''?>">
		<a href="fotoboek.php?book=<?=$book->get_id()?>&amp;photo=<?=$slide->get_id()?>#foto">
			<img src="<?=markup_format_attribute($slide->get_url(null, 400))?>" <?=vsprintf('width="%d" height="%d"', $slide->get_scaled_size(225, 225))?>>
		</a>
	</li>
	<?php else: ?>
	<li class="empty slide"></li>
	<?php endif ?>
<?php endforeach ?>
</ol>
